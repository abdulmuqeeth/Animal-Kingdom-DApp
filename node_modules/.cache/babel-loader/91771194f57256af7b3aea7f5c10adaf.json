{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nexports.decodeToken = decodeToken;\n\nvar _base64url = require('base64url');\n\nvar _base64url2 = _interopRequireDefault(_base64url);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction decodeToken(token) {\n  if (typeof token === 'string') {\n    // decompose the token into parts\n    var tokenParts = token.split('.');\n    var header = JSON.parse(_base64url2.default.decode(tokenParts[0]));\n    var payload = JSON.parse(_base64url2.default.decode(tokenParts[1]));\n    var signature = tokenParts[2]; // return the token object\n\n    return {\n      header: header,\n      payload: payload,\n      signature: signature\n    };\n  } else if ((typeof token === 'undefined' ? 'undefined' : _typeof(token)) === 'object') {\n    var _payload = token.payload;\n\n    if (token.payload[0] !== '{') {\n      _payload = _base64url2.default.decode(_payload);\n    }\n\n    var allHeaders = [];\n    token.header.map(function (headerValue) {\n      var header = JSON.parse(_base64url2.default.decode(headerValue));\n      allHeaders.push(header);\n    });\n    return {\n      header: allHeaders,\n      payload: JSON.parse(_payload),\n      signature: token.signature\n    };\n  }\n}","map":null,"metadata":{},"sourceType":"script"}